<form class='filter-section d-flex flex-column' [formGroup]='filterGroup'>
    <div class='keyword-input-container'>
    <mat-form-field color="accent" class="keyword-form-field mb-3">
      <mat-label>Filter by keywords</mat-label>
      <input matInput formControlName='keywordControl'>
    </mat-form-field>
    <button mat-stroked-button color='accent' class="btn-pill" (click)='addKeyword()'>add</button>
    </div>
    <div class='keyword-pill-container' *ngIf='keywords.size'>
      <div class='keyword-pill-container__pill' *ngFor='let key of keywords'>
        {{key}} <i class="fa fa-close fa-lg ml-1 close-icon" (click)='removeKey(key)'></i>
      </div>
    </div>

    <mat-form-field class='select-form-field' color="accent" appearance="fill" class='mb-3'>
      <mat-label>Sources</mat-label>
      <mat-select formControlName='sourceControl' multiple>
        <mat-option *ngFor="let source of sourceList" [value]="source">{{source}}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class='select-form-field' color="accent" appearance="fill" class='mb-3'>
      <mat-label>Tag</mat-label>
      <mat-select formControlName='tagControl' multiple>
        <mat-option *ngFor="let tag of tagList" [value]="tag">{{tag}}</mat-option>
      </mat-select>
    </mat-form-field>
    
    <span class='h6'>Sentiment</span>
    <mat-button-toggle-group color='primary'(change)='sentimentChange($event)' class='align-self-start mb-3'multiple>
      <mat-button-toggle value="Positive">Positive</mat-button-toggle>
      <mat-button-toggle value="Neutral">Neutral</mat-button-toggle>
      <mat-button-toggle value="Negative">Negative</mat-button-toggle>
    </mat-button-toggle-group>

    <mat-expansion-panel>
    
        <mat-expansion-panel-header>
          <mat-panel-title>
            Advanced
          </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-form-field appearance="fill" color="accent">
          <mat-label>Select a boolean funtion</mat-label>
          <mat-select formControlName='booleanControl'>
            <mat-option value="AND">AND</mat-option>
            <mat-option value="OR">OR</mat-option>
            <mat-option value="XOR">XOR</mat-option>
            <mat-option value="NOR">NOR</mat-option>
          </mat-select>
        </mat-form-field>
      </mat-expansion-panel> 
  <div class='form-footer'>
    <button mat-button color='primary'(click)='clearFilters()'>
      Clear All
    </button>
    <button mat-button color='accent' (click)='applyFilters()'>Apply</button>
  </div>
  </form>
